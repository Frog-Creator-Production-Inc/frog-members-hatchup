post:
  summary: ビザプランレビューの更新
  description: |
    このエンドポイントは、管理者によるビザプランのレビューを更新するために使用されます。
    認証された管理者のみがこのAPIにアクセスできます。
    リクエストボディで提供されたレビューID、管理者ID、コメント、ステータスなどの情報を使用して、`visa_plan_reviews`テーブルの該当レコードを更新します。
    ステータスが「completed」に更新された場合、関連する`visa_plans`テーブルのステータスも「reviewed」に更新されます。
  tags:
    - Visa Plan Review
  security:
    - cookieAuth: []
  requestBody:
    required: true
    content:
      application/json:
        schema:
          type: object
          required:
            - review_id
            - admin_id_input
            - admin_comment_input
            - status_input
          properties:
            review_id:
              type: string
              description: 更新するビザプランレビューのID
            admin_id_input:
              type: string
              description: レビューを更新する管理者のID
            admin_comment_input:
              type: string
              description: 管理者によるレビューコメント
            status_input:
              type: string
              enum:
                - pending
                - completed
              description: 更新後のレビューのステータス
            completed_at_input:
              type: string
              format: date-time
              nullable: true
              description: レビューが完了した日時（`status_input`が`completed`の場合に設定）
  responses:
    "200":
      description: ビザプランレビューが正常に更新された場合の応答
      content:
        application/json:
          schema:
            type: object
            properties:
              success:
                type: boolean
              message:
                type: string
    "400":
      description: 必須パラメータが不足している場合の応答
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                type: string
    "401":
      description: 認証されていないユーザーからのリクエストの場合の応答
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                type: string
    "403":
      description: 管理者権限がないユーザーからのリクエストの場合の応答
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                type: string
    "500":
      $ref: "../../../../swagger.yaml#/components/responses/InternalServerError"
